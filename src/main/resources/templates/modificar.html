<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="modificar.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <title>Modificar Peliculas</title>
    </head>

    <body>
        <div th:if="${error!=null}">
            <div class="alert alert-danger alert-dismissible sticky-top" role="alert">
                <p class="h3" th:text="${error}" style="color: #000"></p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>
        <div th:if="${exito!=null}">
            <div class="alert alert-success alert-dismissible sticky-top" role="alert">
                <p class="h3" th:text="${exito}" style="color: #000"></p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div> 


        <div class="avatar">
            <a class="navbar-brand" href="/index">
                <img src="Walt-Disney-logo.png" class="avatar" alt="" width="120" height="120">
            </a>
        </div>





        <!--Pelicula-->
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Titulo de la Pelicula</th>
                    <th scope="col">Genero</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Calificacion</th>
                    <th scope="col">Personajes</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="pelicula : ${pelicula}">
                    <td th:text="${pelicula.titulo}"></td>
                    <td th:text="${pelicula.genero}"></td>
                    <td th:text="${pelicula.fecha}"></td>
                    <td th:text="${pelicula.calificacion + ' estrellas'}"></td>
                    <td th:text="${pelicula.personaje.nombre}"></td>
                    <td><a th:href="@{eliminarPelicula/} + ${pelicula.id}" method="GET">
                            <button class="btn btn-danger" type="submit">Eliminar</button></td>
                    </a>
                    <td></td>
                </tr>


                <!--Personajes-->
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Nombre del Personaje</th>
                        <th scope="col">Edad</th>
                        <th scope="col">Peso</th>
                        <th scope="col">Historia</th>

                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="personaje : ${personaje}">
                        <td th:text="${personaje.nombre}"></td>
                        <td th:text="${personaje.edad}"></td>
                        <td th:text="${personaje.peso}"></td>
                        <td th:text="${personaje.historia}"></td>
                        <td><a th:href="@{eliminarPersonaje/} + ${personaje.id}" method="GET">
                                <button class="btn btn-danger" type="submit">Eliminar</button></td>
                        </a>
<!--                        <td> <a href="#openModal">Modificar</a> </td>-->
                    </tr>

                    <!--                    MODAL PARA MODIFICAR PERSONAJE-->
<!--                <div id="openModal" class="modalDialog">
                    <div>
                        <a href="#close" title="Close" class="close">X</a>

                        <form class="form-registro" action="/modificarPersonaje" method="POST" enctype="multipart/form-data">

                            <label for="nombre">Nombre</label>
                            <input class="controls" required type="text" placeholder="nombre" id="nombre" name="nombre">

                            <label for="apellido">Edad</label>
                            <input class="controls" required type="number" placeholder="edad" id="edad" name="edad">

                            <label for="email">Peso</label>
                            <input class="controls" required type="number" placeholder="peso" id="peso" name="peso">

                            <label for="contrasenia">Historia</label>
                            <input class="controls" required type="text" placeholder="historia" id="historia" name="historia">

                            <label for="foto">Foto</label>
                            <input class="controls" required type="file" placeholder="foto" id="foto" name="foto">

                            <a th:href="@{editarPersonaje/} + ${personaje.id}" method="GET">
                                <button class="btn btn-danger" type="submit">Modificar</button></td>
                            </a>
                        </form>
                    </div>
                </div>-->


                <!--Generos-->
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Nombre del Genero</th>
                            <th scope="col">Pelis asociadas</th>
                            <th scope="col"></th>
                            <th scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="genero : ${genero}">
                            <td th:text="${genero.nombre}"></td>
                            <td  th:text="${genero.pelicula}"></td>
                            <td></td>
                            <td><a th:href="@{eliminarGenero/} + ${genero.id}" method="GET">
                                    <button class="btn btn-danger" type="submit">Eliminar</button></td>
                            </a>
                            <td></td>
                        </tr>
                        </body>

                        </html>
